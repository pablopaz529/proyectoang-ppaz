<div class="container mt-4">
  <h2 class="mb-4 text-center">
    Mis Películas Favoritas<i class="bi bi-heart-fill text-warning"></i>
  </h2>

  @if (peliculas.length > 0) {
    <div class="row row-cols-2 row-cols-md-4 row-cols-lg-5 g-4">
      @for (peli of peliculas; track peli.id) {
        <div class="col">
          <div class="card h-100 shadow border-0">
            @if (peli.poster_path) {
              <img
                [src]="'https://image.tmdb.org/t/p/w500' + peli.poster_path"
                class="card-img-top rounded"
                [alt]="peli.title"
                [routerLink]="['/pelicula', peli.id]"
                style="cursor: pointer"
              />
            } @else {
              <div
                class="bg-secondary text-white d-flex align-items-center justify-content-center rounded"
                style="height: 300px"
              >
                Sin Imagen
              </div>
            }

            <div class="card-body p-2">
              <h6 class="card-title text-truncate fw-bold mb-1">{{ peli.title }}</h6>

              <div class="d-flex justify-content-between align-items-center small text-muted mb-2">
                <span>{{ peli.release_date | date: 'yyyy' }}</span>
                <span class="badge bg-warning text-dark">
                  ★ {{ peli.vote_average | number: '1.1-1' }}
                </span>
              </div>

              <button
                class="btn btn-outline-danger btn-sm w-100"
                (click)="eliminar(peli.id); $event.stopPropagation()"
              >
                <i class="bi bi-trash-fill me-1"></i> Eliminar
              </button>
            </div>
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="text-center py-5">
      <i class="bi bi-heart-break fs-1 text-muted"></i>
      <p class="mt-3 fs-5 text-muted">Aún no tienes favoritos.</p>
      <button class="btn btn-warning mt-2" routerLink="/peliculas">Ir al Catálogo</button>
    </div>
  }
</div>
